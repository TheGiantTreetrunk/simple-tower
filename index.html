<html>
    <head>
        <title>Simple Tower</title>
        <style></style>
        <script>

        var tot_floors = 10;
        var cur_floor = 1;
        var encounter_meter = 10;
        var encounter_chance = 1;
        var gm_difficulty = 2;
        var gm_difficulty_n = ["Easy","Normal","Hard"];
        var gm_tower_map = [0,2,2,2,2,2,2,2,2,2,2,1];
        
        var gm_tower_objects = {
            floor_starting: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_1: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_2: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_3: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_4: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_5: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_6: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_7: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_8: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_9: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_10: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_11: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            },

            floor_boss: {
                item0: 0,
                item1: 0,
                item2: 0,
                item3: 0,
                item0_s: 0,
                item1_s: 0,
                item2_s: 0,
                item3_s: 0
            }
        };

        var obj_types_id = [0,1,2];
        var obj_types_names_id = ["Nothing", "Chest", "Bag"];

        var sce_room_id = [0,1,2];
        var sce_room_id_n = ["Starting Room","Boss Room","Room type 1","Room type 2"]

        var obj_items_id = [0,1,2,3];
        var obj_items_names_id = ["Nothing","Item","Weapon","Utility","Special!"];
        var obj_items_perks_n = [0,2,1,2];

        var obj_weapon_id = [0,1,2,3];
        var obj_weapon_name_id = ["Nothing","Sword","Axe","Club"];
        var obj_weapon_damage_n = [0,4,3,2];

        var ent_enemies_id = [0,1,2,3,4];
        var ent_enemies_name_id = ["Nothing","Ghost","Snake","Glarb","Serpant"];
        var ent_enemies_damage_n = [0,2,1,3,4];
        var ent_enemies_health_n = [0,4,2,6,8];

        var player = {
            score: 0,
            max_health: 10,
            cur_health: 10,
            max_armour: 10,
            cur_armour: 10,
            cur_weapon: 0,
            has_key: 0

        };

        var enemy = {
            id: 0,
            health: 0,
            damange: 0

        };

        function start_game() {
            var x1 = document.getElementById("tower_size").value;
            var x2 = document.getElementById("difficulty").value;

            tot_floors = x1;
            gm_difficulty = x2;

            document.getElementById("output").innerHTML = "Generating Scenario. Please Wait...";
            //tower_generator
            document.getElementById("tower_generator").disabled = true;
            document.getElementById("tower_size").disabled = true;
            document.getElementById("difficulty").disabled = true;
            const myTimeout = setTimeout(game_manager, 5000);
        }

        function game_manager() {//the story manager
                document.getElementById("output").innerHTML = "You awaken at the bottom of the pit you fell into. Dazed, and a little scuffed up you eventually come to. In front you find a ladder and a " + "'weapon'" + " looks like the only way is up...";
        }

        function UI_Update() {

        }


        /*Notes for project*/

        /*
        Encounters
        - normal difficulty open increases by 0.5 smashing by 1 doubles on hard, halves on easy for parameters...

        Tower Size
        - smallest is 5 largest is 50 possible

        Start Game
        - You fall into a hole during your walk into the woods. you wake up at the bottom and find a tower that might lead to the surface. you are given a random weapon to start with...

        End Game
        - You need the key and get to the top of the tower to defeat the final boss to escape.
        
        Roguelike!
        - If you die you lose the game! always will be completely randomized. 
        - eventually will need to add 'themed' rooms with specific items but thats well down the line...
        */
        </script>
    </head>
    <body>
        <h1>Simple Tower</h1>

        <div >
            Tower Size: <input type="number" id="tower_size" value="10" min="5" max="12"> (min 5 levels, max 12 levels!)
            <br>
            Difficulty: <input type="number" id="difficulty" value="2" min="1" max="3"> (lower the value the easier, higher the value the more difficult!)
            <br>
            <br>
            <button id="tower_generator" onclick="start_game()">Generate</button>
        </div>
        <h4 id="score">Score: 0</h4>
        <p id="floor">Floor: 0</p>
        <p id="output">text output goes here...</p>
        <button>Up</button>
        <button>Down</button>
        <button>Open</button>
        <button>Smash</button>
    </body>
</html>