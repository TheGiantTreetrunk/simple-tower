<html>
    <head>
        <title>Simple Tower</title>
        <meta charset="utf-8">
		<link rel="icon" type="image/x-icon" href="favicon.ico">
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<meta name="HandheldFriendly" content="true"/>

        <script>

        var tot_floors = 10;
        var cur_floor = 0;
        var cur_spot = 0;
        var encounter_meter = 20;
        var encounter_chance = 1;
        var gm_difficulty = 2;
        var gm_difficulty_n = ["Easy","Normal","Hard"];
        var gm_story_tracker_prog = 0;
        var gm_tower_map = [];
        
        var gm_tower_obj_0 = [];
        var gm_tower_obj_1 = [];
        var gm_tower_obj_2 = [];
        var gm_tower_obj_3 = [];

        var gm_tower_obj_0_a = [];
        var gm_tower_obj_1_a = [];
        var gm_tower_obj_2_a = [];
        var gm_tower_obj_3_a = [];


        var obj_types_id = [0,1,2];
        var obj_types_names_id = ["Nothing", "Chest", "Barrel"];
        var obj_type_noise_f = [0,2,1];

        var sce_room_id = [1,2];
        var sce_room_id_n = ["Room type 1","Room type 2"]

        var obj_items_id = [0,1,2,3];
        var obj_items_names_id = ["Nothing","Item","Weapon","Utility","Special!"];
        var obj_items_perks_n = [0,2,1,2];

        var obj_weapon_id = [1,2,3];
        var obj_weapon_name_id = ["Sword","Axe","Club"];
        var obj_weapon_damage_n = [4,3,2];
        var obj_weapon_damage_c = [2,2,1];

        var ent_enemies_id = [1,2,3,4];
        var ent_enemies_name_id = ["Ghost","Snake","Glarb","Serpant"];
        var ent_enemies_damage_n = [2,1,3,4];
        var ent_enemies_health_n = [4,2,6,8];
        var ent_enemies_attack_s = [2,2,3,4];
        
        var char1 = "data:image/png;base64, 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dHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6MTJiOTc4MzMtZjRiOS00OWIwLThlNDMtM2QwMGRlZjk3OTkyIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjU0Y2VkNzBkLTI1YjYtNGZlYS04MzA0LTg2NzdjYjZjNDgxNCIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjRlYzlkYWQ0LTRjYjItNDcyMy04NzY4LTkzNmUyYTM5OWYwYSIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IldpbmRvd3MiCiAgIEdJTVA6VGltZVN0YW1wPSIxNzE0MzQ0MjUzNTUzNTY4IgogICBHSU1QOlZlcnNpb249IjIuMTAuMzQiCiAgIHRpZmY6T3JpZW50YXRpb249IjEiCiAgIHhtcDpDcmVhdG9yVG9vbD0iR0lNUCAyLjEwIgogICB4bXA6TWV0YWRhdGFEYXRlPSIyMDI0OjA0OjI4VDE1OjQ0OjEzLTA3OjAwIgogICB4bXA6TW9kaWZ5RGF0ZT0iMjAyNDowNDoyOFQxNTo0NDoxMy0wNzowMCI+CiAgIDx4bXBNTTpIaXN0b3J5PgogICAgPHJkZjpTZXE+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOjg1Y2RiYzA4LTg2ZDctNGRjZS04NGMyLTlhMDhmNGZjM2ZhOCIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyMy0wNC0wOVQxNDowNToxOCIvPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDowMWRhZGQwZC0wNzM2LTRmM2YtOTY2YS0wM2EyMmMxZDU5ODgiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoV2luZG93cykiCiAgICAgIHN0RXZ0OndoZW49IjIwMjMtMDQtMDlUMTU6MDc6NTYiLz4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MjY0ZGU4OGUtYWU4ZC00MTFjLThjMzMtY2M1Y2FlODcxNzQ2IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKFdpbmRvd3MpIgogICAgICBzdEV2dDp3aGVuPSIyMDI0LTA0LTI4VDExOjA0OjIyIi8+CiAgICAgPHJkZjpsaQogICAgICBzdEV2dDphY3Rpb249InNhdmVkIgogICAgICBzdEV2dDpjaGFuZ2VkPSIvIgogICAgICBzdEV2dDppbnN0YW5jZUlEPSJ4bXAuaWlkOmNmNzIzNzI1LTY1MDAtNDI5MC05YTk1LThmMThlZWUzMjE5YSIKICAgICAgc3RFdnQ6c29mdHdhcmVBZ2VudD0iR2ltcCAyLjEwIChXaW5kb3dzKSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyNC0wNC0yOFQxNTo0NDoxMyIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7DevsIAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAC4jAAAuIwF4pT92AAAAB3RJTUUH6AQcFiwNhqe1eQAAABl0RVh0Q29tbWVudABDcmVhdGVkIHdpdGggR0lNUFeBDhcAAAA6SURBVBjTjY9BDgAgDMKK//8znrapcUYukDQsQ5TMLgGMpC6+ZjXt5CNgtA4PZt8csB7n/36gmZl5AnYAJ+TxnGeOAAAAAElFTkSuQmCC";
        var chest1 = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAxHpUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBRDsMgCP3nFDuCAioex7Yu2Q12/KFg0zZ7CQg88gSgfz9veA1gZOBUJNecg4IrV2waSDC06WPg6SfQKc1vdTgJ1BLpS5ZK9v5Vj6eAPU2jdBGS3YntTlR2fXkI+Uc0JhpTHC5UXYjQiOgCzdYKuUq5rrD1cIeYwXB7t9Wj//bMuej1jqRFQuykZfVEYgPQsATUZtDURBsDlRmzeqJ1Ez3IvzstwA89TVnUbaN4+AAAAYRpQ0NQSUNDIHByb2ZpbGUAAHicfZE9SMNAHMVfU6UilQ4WFOmQoepiQVTEUatQhAqhVmjVweT6CU0akhQXR8G14ODHYtXBxVlXB1dBEPwAcRecFF2kxP8lhRYxHhz34929x907QGhUmGp2jQOqZhmpRFzMZFfFwCsERBDCAEZlZupzkpSE5/i6h4+vdzGe5X3uz9GXy5sM8InEs0w3LOIN4ulNS+e8TxxmJTlHfE48ZtAFiR+5rrj8xrnosMAzw0Y6NU8cJhaLHax0MCsZKvEUcTSnapQvZFzOcd7irFZqrHVP/sJgXltZ5jrNCBJYxBIkiFBQQxkVWIjRqpFiIkX7cQ//kOOXyKWQqwxGjgVUoUJ2/OB/8LtbszA54SYF40D3i21/DAOBXaBZt+3vY9tungD+Z+BKa/urDWDmk/R6W4seAaFt4OK6rSl7wOUOMPiky4bsSH6aQqEAvJ/RN2WB/lugd83trbWP0wcgTV0lb4CDQ2CkSNnrHu/u6ezt3zOt/n4AgiNyrbzsOR8AAA14aVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJYTVAgQ29yZSA0LjQuMC1FeGl2MiI+CiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICB4bWxuczpkYz0iaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS8iCiAgICB4bWxuczpHSU1QPSJodHRwOi8vd3d3LmdpbXAub3JnL3htcC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgeG1wTU06RG9jdW1lbnRJRD0iZ2ltcDpkb2NpZDpnaW1wOjk2MDBlYWI4LWZjM2ItNDM1OC1hOTY3LTExM2M3NWI4ZTFmZiIKICAgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDoyMmJiNmJiZi1kZmExLTRmMTItYTZmMS03NTU4YjhiY2M3MjMiCiAgIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDo0ZGRkNjIxNy1hNTdiLTQ1MDAtYjVjNC1lNzMzODZhODlkOGIiCiAgIGRjOkZvcm1hdD0iaW1hZ2UvcG5nIgogICBHSU1QOkFQST0iMi4wIgogICBHSU1QOlBsYXRmb3JtPSJMaW51eCIKICAgR0lNUDpUaW1lU3RhbXA9IjE3NDA3NTYyNzIxODUxMTQiCiAgIEdJTVA6VmVyc2lvbj0iMi4xMC4zOCIKICAgdGlmZjpPcmllbnRhdGlvbj0iMSIKICAgeG1wOkNyZWF0b3JUb29sPSJHSU1QIDIuMTAiCiAgIHhtcDpNZXRhZGF0YURhdGU9IjIwMjU6MDI6MjhUMDc6MjQ6MzAtMDg6MDAiCiAgIHhtcDpNb2RpZnlEYXRlPSIyMDI1OjAyOjI4VDA3OjI0OjMwLTA4OjAwIj4KICAgPHhtcE1NOkhpc3Rvcnk+CiAgICA8cmRmOlNlcT4KICAgICA8cmRmOmxpCiAgICAgIHN0RXZ0OmFjdGlvbj0ic2F2ZWQiCiAgICAgIHN0RXZ0OmNoYW5nZWQ9Ii8iCiAgICAgIHN0RXZ0Omluc3RhbmNlSUQ9InhtcC5paWQ6MmE0OTVkNzQtYjk5Yy00Mzc2LTgxMTEtYzU3OTI0NjFiZjA1IgogICAgICBzdEV2dDpzb2Z0d2FyZUFnZW50PSJHaW1wIDIuMTAgKExpbnV4KSIKICAgICAgc3RFdnQ6d2hlbj0iMjAyNS0wMi0yOFQwNzoyNDozMi0wODowMCIvPgogICAgPC9yZGY6U2VxPgogICA8L3htcE1NOkhpc3Rvcnk+CiAgPC9yZGY6RGVzY3JpcHRpb24+CiA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz7wVguRAAAABmJLR0QA/wD/AP+gvaeTAAAACXBIWXMAAA7DAAAOwwHHb6hkAAAAB3RJTUUH6QIcDxggL7mkAQAAAFVJREFUWMNjYBgFo2AUjIKRDhixiP2np51MAx0Cow5gQRfQ0tLCq2HSpEkofBcXF5L0X7t2bTQKBnkaIARIjfPRKBh+aYDSOB+NgkHngNH2wKgDRgEA5OYJ9UaY7JsAAAAASUVORK5CYII=";
        var barrel1 = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAw3pUWHRSYXcgcHJvZmlsZSB0eXBlIGV4aWYAAHjabVBRDsMgCP3nFDuCAioex7Yu2Q12/KHQpjZ7CQg88gSgfz9veA1gZOBUJNecg4IrV2waSDC06WPg6SfQKc2XOlwEaon0JUsle/9Zj5eAPU2jdBOS3YltJSq7vjyE/CMaE40pDheqLkRoRHSBZmuFXKXcV9h6WCFmMNzebfXovz1zLnq9I2mREDtpWT2R2AA0LAG1GTQ10cZAReOBRqYT7SD/7nQCfjz7WdLelWz1AAABhGlDQ1BJQ0MgcHJvZmlsZQAAeJx9kT1Iw0AcxV9TpSKVDhYU6ZCh6mJBVMRRq1CECqFWaNXB5PoJTRqSFBdHwbXg4Mdi1cHFWVcHV0EQ/ABxF5wUXaTE/yWFFjEeHPfj3b3H3TtAaFSYanaNA6pmGalEXMxkV8XAKwREEMIARmVm6nOSlITn+LqHj693MZ7lfe7P0ZfLmwzwicSzTDcs4g3i6U1L57xPHGYlOUd8Tjxm0AWJH7muuPzGueiwwDPDRjo1TxwmFosdrHQwKxkq8RRxNKdqlC9kXM5x3uKsVmqsdU/+wmBeW1nmOs0IEljEEiSIUFBDGRVYiNGqkWIiRftxD/+Q45fIpZCrDEaOBVShQnb84H/wu1uzMDnhJgXjQPeLbX8MA4FdoFm37e9j226eAP5n4Epr+6sNYOaT9Hpbix4BoW3g4rqtKXvA5Q4w+KTLhuxIfppCoQC8n9E3ZYH+W6B3ze2ttY/TByBNXSVvgINDYKRI2ese7+7p7O3fM63+fgCCI3KtvOw5HwAADXhpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+Cjx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IlhNUCBDb3JlIDQuNC4wLUV4aXYyIj4KIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgIHhtbG5zOkdJTVA9Imh0dHA6Ly93d3cuZ2ltcC5vcmcveG1wLyIKICAgIHhtbG5zOnRpZmY9Imh0dHA6Ly9ucy5hZG9iZS5jb20vdGlmZi8xLjAvIgogICAgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIgogICB4bXBNTTpEb2N1bWVudElEPSJnaW1wOmRvY2lkOmdpbXA6ZGJiOTFkOTEtYTU0Ni00OTJiLTg0ZWMtMWM5ODk5ZWM1MmVkIgogICB4bXBNTTpJbnN0YW5jZUlEPSJ4bXAuaWlkOjhmYWQ4Y2NiLTY0YWYtNDYzNS1iZWQ1LWZjZDY1Mzk4ZjkyMyIKICAgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjdjNTc1MzY3LTE5ZmMtNGE3MC1hZjI0LTA0OTUzNTk5YzgxNSIKICAgZGM6Rm9ybWF0PSJpbWFnZS9wbmciCiAgIEdJTVA6QVBJPSIyLjAiCiAgIEdJTVA6UGxhdGZvcm09IkxpbnV4IgogICBHSU1QOlRpbWVTdGFtcD0iMTc0MDc1Njc5MTk0NzI4NyIKICAgR0lNUDpWZXJzaW9uPSIyLjEwLjM4IgogICB0aWZmOk9yaWVudGF0aW9uPSIxIgogICB4bXA6Q3JlYXRvclRvb2w9IkdJTVAgMi4xMCIKICAgeG1wOk1ldGFkYXRhRGF0ZT0iMjAyNTowMjoyOFQwNzozMzoxMC0wODowMCIKICAgeG1wOk1vZGlmeURhdGU9IjIwMjU6MDI6MjhUMDc6MzM6MTAtMDg6MDAiPgogICA8eG1wTU06SGlzdG9yeT4KICAgIDxyZGY6U2VxPgogICAgIDxyZGY6bGkKICAgICAgc3RFdnQ6YWN0aW9uPSJzYXZlZCIKICAgICAgc3RFdnQ6Y2hhbmdlZD0iLyIKICAgICAgc3RFdnQ6aW5zdGFuY2VJRD0ieG1wLmlpZDo1NmJhNjYzYS01MGRjLTQ2MGYtOTM1Zi1iM2RiMDE0NzRkNmEiCiAgICAgIHN0RXZ0OnNvZnR3YXJlQWdlbnQ9IkdpbXAgMi4xMCAoTGludXgpIgogICAgICBzdEV2dDp3aGVuPSIyMDI1LTAyLTI4VDA3OjMzOjExLTA4OjAwIi8+CiAgICA8L3JkZjpTZXE+CiAgIDwveG1wTU06SGlzdG9yeT4KICA8L3JkZjpEZXNjcmlwdGlvbj4KIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAKPD94cGFja2V0IGVuZD0idyI/PnzAxG8AAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfpAhwPIQuNgdD7AAAAcUlEQVRYw2NgGAWjYIABI7EKtbS0/pNi8LVr14gym2mgQ2DUATjjqbOzEyXOy8vLSTK4s7OTAU0/42gUDK00gJ7v4+PjSTJ44cKFRJULo1EwdNLAjx8/SDKYg4NjNA2MOmDUAUO8HBhtE44YB4yCAQcAVJYdLNfJ39wAAAAASUVORK5CYII=";
        var blank = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TpSIVkXYQdchQnSyIijhqFYpQIdQKrTqYXPohNGlIUlwcBdeCgx+LVQcXZ10dXAVB8APEXXBSdJES/5cUWsR4cNyPd/ced+8AoV5mmtUxBmi6baaTCTGbWxFDrxAwiD6EEJGZZcxKUgq+4+seAb7exXmW/7k/R4+atxgQEIlnmGHaxOvEU5u2wXmfOMpKskp8Tjxq0gWJH7muePzGueiywDOjZiY9RxwlFottrLQxK5ka8SRxTNV0yheyHquctzhr5Spr3pO/MJzXl5e4TnMISSxgERJEKKhiA2XYiNOqk2IhTfsJH/+A65fIpZBrA4wc86hAg+z6wf/gd7dWYWLcSwongM4Xx/kYBkK7QKPmON/HjtM4AYLPwJXe8lfqwPQn6bWWFjsCereBi+uWpuwBlztA/5Mhm7IrBWkKhQLwfkbflAMit0D3qtdbcx+nD0CGukrdAAeHwEiRstd83t3V3tu/Z5r9/QAq7nKKq0fHOAAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+kCGxEHNHNWyCEAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAAIElEQVRYw+3OMQEAAAjAoNk/tMbwgQQUAAAA8Gyq/QwcjSQBAcTwXHEAAAAASUVORK5CYII=";
        var Sword = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAABvSURBVFhH7ZdLCsAwCAVjT+xN9Mb9UBetLbhIwS5mIETIZuAJUVl3RiNL3G0gIGZ26wFVjeodEYnqZLaFiAABBBBAAAEE/i9w/P/Xk6neK4igXeAxE2byjJhzZiacpb8H8m7o7lF9Q7VnEEGzwBgbDUMZRWVHdZQAAAAASUVORK5CYII=";
        var Axe = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB4SURBVFhH7ZZBCgAhCEV1TtxN9MYzRS7KFi0MnOA/iIQ2H94P5LdCiTx2p4EALCJTB0opNnWY2aaOr8zufQcU3BegOR9PFCi4L0D75+OJAgX/D3DauQcKEAAB0gMsO6HH74ge7IRR8jtQnU3SVNWmM+w6BAXJAYg+17Y0Ia1OQmYAAAAASUVORK5CYII=";
        var Club = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB8SURBVFhH7ZdLCsAwCAVjT+xN9MZtQl0YUxDaglm8gRAhm4FnfnR2WiGHzWVAgERk6gFmtuoZIrLq5msLIYL9BUbmfkSy9QxEAAEI7C8wzno/Itl6BiKAAATKBZY3YSS+EeOd/2bvexBBfQ/0DKcQVdWqf8j+GYigWKC1Cy0nMS0CEe1KAAAAAElFTkSuQmCC";
        var nope = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACLSURBVFhH7ZZBCsAgDARNX6wv0R+3ijnY7SFIW5LDDoiBEFiYCMrZSY4cervBAFJrve1AKUWrye6KiIhWE2ueCuIFGM7WM5yuB8E+zltQQfwA6PStc4QK4gewnGN/FyqIFwCdonME+zhvQQXuAR5/QiTnrNU/UIH/DvS3e9uB1ppW32DtEBU4B0jpAnMybS2gELDwAAAAAElFTkSuQmCC";
        var shield = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAB6SURBVFhH7ZZBCsAgDASTvji+RH/cWppLtlArCPGwA2JAhIVZRD07ksjhexoMoLXW0IFSik9rGFWMCvYPcDucWbNQAQMwAAMwwH4B8G1X1bAQPMf7I6ggPcDrT4iYmU8P2IM/nr+ggvwOdIdBYmvNpzVghxAqSA4gcgH3r1UJQuJq1gAAAABJRU5ErkJggg==";
        var health = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACGSURBVFhH7ZZBCsAgDARNX5yf6I9bxRx0ewhFIRZ2QBoIhYVZQbkrKZDLvmEwgOScpw6oqk0dEbGpg5Xx9h5UcF6A5nQ8zel4vu49qOB/AdD5KlRwXgB07N1r3OP/HlRwfgB0uuocoYLwAK83IYJvxN1QQXwH6t2dOlBKsWkPXoeoIDhASg8sOm0hqPOoIgAAAABJRU5ErkJggg==";
        var food = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAACESURBVFhH7ZZBCsAgDARNX+xP9Met0hzqFpqWBpLDDgRzERZmBWUflEA2PcNgAGmtLR2otep2IiK6veNrpaggX4Dp/DrIdPw01n2ECvIH+OvYggryB0Dn3p2ggnwB0DFiObfuI1QQHuD2J0Twj+gNFcR3YLzVpQO9d918sDpEBcEBSjkAjGJeLSVkP3UAAAAASUVORK5CYII=";
        
        var room = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAAYAAAACACAYAAAACsL4LAAABhGlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw1AUhU9TS0UqDnYQ6RChOtlFRRxLFYtgobQVWnUweekfNGlIUlwcBdeCgz+LVQcXZ10dXAVB8AfEXXBSdJES70sKLWK88Hgf591zeO8+QGjVmGr2xQFVs4xMMiHmC6ti8BV++BBABGMSM/VUdjEHz/q6p16quxjP8u77swaVoskAn0gcZ7phEW8Qz25aOud94jCrSArxOfGkQRckfuS67PIb57LDAs8MG7nMPHGYWCz3sNzDrGKoxDPEUUXVKF/Iu6xw3uKs1hqsc0/+wlBRW8lynVYESSwhhTREyGigihosxGjXSDGRofOEh3/U8afJJZOrCkaOBdShQnL84H/we7ZmaXrKTQolgMCLbX+MA8FdoN207e9j226fAP5n4Err+ustYO6T9GZXix4BQ9vAxXVXk/eAyx1g5EmXDMmR/LSEUgl4P6NvKgDDt8DAmju3zjlOH4AczWr5Bjg4BCbKlL3u8e7+3rn929OZ3w9u23KlS3jTPAAAAAZiS0dEAAAAAAAA+UO7fwAAAAlwSFlzAAAuIwAALiMBeKU/dgAAAAd0SU1FB+kDAQUrBptbZ+gAAAAZdEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIEdJTVBXgQ4XAAAC6ElEQVR42u3bsU4lUQxEwR7+/5+HdIWEyLDYU5UaJwS3Nc/qZ9u7b7zvu+d5Zm5ubm7+/80/BkCSAACIet73ff0bAIIBsH9uAD/9ZvTT39i3b9++/b+z7ycggCgBABDlBgBQDYDpAZibm5sn534CAogSAABRbgAA1QCYHoB9+/bt6wEA0CEAAKLcAACqATA9AHNzc/Pk3E9AAFECACDKDQCgGgDTA7Bv3759PQAAOgQAQJQbAEA1AKYHYG5ubp6c+wkIIEoAAES5AQBUA2B6APbt27evBwBAhwAAiHIDAKgGwI57AADZB1gPAIALAgCg+gXiBgAQDYAd9wDkD5B9gL+8hXoAAPwKAQBQ/QJxAwCIBsD0AABuHmA9AAAuCACA6heIGwBANACmBwBw8wDrAQBwQQAAVL9A3AAAogEwPQCAmwdYDwCACwIAoPoF4gYAEA2A6QEA3DzAegAAXBAAANUvEDcAgGgATA8A4OYB1gMA4IIAAKh+gbgBAEQDYHoAADcPsB4AABcEAED1C8QNACAaANMDALh5gPUAALggAACqXyBuAADRAJgeAMDNA6wHAMAFAQBQ/QJxAwCIBsD0AABuHmA9AAAuCACA6heIGwBANACmBwBw8wDrAQBwQQAAVL9A3AAAogEwPQCAmwdYDwCACwIAoPoF4gYAEA2A6QEA3DzAegAAXBAAANUvEDcAgGgATA8A4OYB1gMA4IIAAKh+gbgBAEQDYHoAADcPsB4AABcEAED1C8QNACAaADvuAZibm5ub38z9BAQQJQAAotwAAKoBsOMegH379u3b1wMA4BcJAIAoNwCAagBMD8Dc3Nw8OfcTEECUAACIcgMAqAbA9ADs27dvXw8AgA4BABDlBgBQDYDpAZibm5sn534CAogSAABRbgAA1QCYHoB9+/bt6wEA0CEAAKLcAACqATA9AHNzc/Pk3E9AAFECACDKDQCgGgDTA7Bv3759PQAAOgQAQJQbAEDUJ6d5OJYCivXLAAAAAElFTkSuQmCC";
        var bg = "data:image/png;base64, iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAA9SURBVDhPY3j37t1/EGZgYABjUvmUG4BLggQ+hQbglCCSPxoGQExIASE+EJOnEYlPoQE4JYjkD/kwePcfAKDWZB8KU+/AAAAAAElFTkSuQmCC";

        var isdevmode = 0;
        var isinbattle = 0;

        var player = {
            score: 0,
            max_health: 10,
            cur_health: 10,
            max_armour: 10,
            cur_armour: 0,
            cur_weapon: 0,
            has_armour: 0,
            has_key: 0

        };

        var enemy = {
            id: 0,
            health: 0,
            damange: 0,
            speed: 0,
            cur_health: 0,
            cur_armour: 0
        };

        function start_game() {
            var x1 = document.getElementById("tower_size").value;
            var x2 = document.getElementById("difficulty").value;

            tot_floors = x1;
            gm_difficulty = x2;

            document.getElementById("output").innerHTML = "Generating Scenario. Please Wait...";
            //tower_generator
            document.getElementById("tower_generator").disabled = true;
            document.getElementById("tower_size").disabled = true;
            document.getElementById("difficulty").disabled = true;
            //const myTimeout = setTimeout(Game_Manager, 5000);
            Generate_Tower();
            UI_Load_Map();
            UIX(1);
        }

        function Game_Manager() {//the story manager
            if(gm_story_tracker_prog == 0) {
                /*You start your adventure. this will be a basic story tracker feature....*/
                document.getElementById("output").innerHTML = "You awaken at the bottom of the pit you fell into. Dazed, and a little scuffed up you eventually come to. In front you find a ladder and a " + player.cur_weapon + " looks like the only way is up...";
            }

            if(gm_story_tracker_prog == 1) {
                /*You have found the key to progress to the final boss room*/
                document.getElementById("output").innerHTML = "As you go through the " + "compartment name" + ", you discover a mystical glowing key shimmering with power. Whereever this key leads to must be hiding something extremely valuable..."
            }

            if(gm_story_tracker_prog == 2) {
                /*You enter the final room and find the boss*/
                document.getElementById("output").innerHTML = "As you bring the key to the lock it begins to glow. You insert the key and hear the mechanisim release allowing you to open the door with ease. In front of you is a throne with someone occupying it. They proceed to grab their weapon and charge you.";
            }

            if(gm_story_tracker_prog == 3) {
                /*You defeat the final boss and discover the exit out*/
                document.getElementById("output").innerHTML = "";
            }

            if(gm_story_tracker_prog == 4) {
                /*You are defeated you lose the game!*/
                document.getElementById("output").innerHTML = "";
            }
        }

        function Generate_Tower() {
            for (var i = 0; i < tot_floors; i++) {
                /*Getting Floor Needing to generate*/
                    
                /*Roll Room Type Starts*/
                
                //roll the room type from scene room ids...
                var xx1 = Math.floor((Math.random() * sce_room_id.length));
                //push to array
                gm_tower_map.push(sce_room_id[xx1]);

                /*Roll Room Type Ends (SuPeR bAsIc!)*/

                /*Roll for Item Types Starts! (oooooooo!)*/
                
                /*Roll Item 1 type*/
                var xx2 = Math.floor((Math.random() * obj_types_id.length));
                gm_tower_obj_0.push(obj_types_names_id[xx2]);
                gm_tower_obj_0_a.push(0);
                 
                /*Roll Item 2 type*/
                var xx3 = Math.floor((Math.random() * obj_types_id.length));
                gm_tower_obj_1.push(obj_types_names_id[xx3]);
                gm_tower_obj_1_a.push(0);

                /*Roll Item 3 type*/
                var xx4 = Math.floor((Math.random() * obj_types_id.length));
                gm_tower_obj_2.push(obj_types_names_id[xx4]);
                gm_tower_obj_2_a.push(0);

                /*Roll Item 4 type*/
                var xx5 = Math.floor((Math.random() * obj_types_id.length));
                gm_tower_obj_3.push(obj_types_names_id[xx5]);
                gm_tower_obj_3_a.push(0);

                /*Roll for Item Types Ends!*/
                
            }

            /*Once Finished, change the starting room to 0 to trigger that room and the final floor to b for boss....*/
            gm_tower_map[0] = 0;
            gm_tower_obj_0[0] = obj_types_names_id[0];
            gm_tower_obj_1[0] = obj_types_names_id[0];
            gm_tower_obj_2[0] = obj_types_names_id[0];
            gm_tower_obj_3[0] = obj_types_names_id[0];
            gm_tower_map[tot_floors] = 'b';
            gm_tower_obj_0[tot_floors] = obj_types_names_id[0];
            gm_tower_obj_1[tot_floors] = obj_types_names_id[0];
            gm_tower_obj_2[tot_floors] = obj_types_names_id[0];
            gm_tower_obj_3[tot_floors] = obj_types_names_id[0];

            /*After it overrides everything, we will focus on what the player gets for a weapon as well...*/
            var yy1 = Math.floor((Math.random() * obj_weapon_id.length));
            player.cur_weapon = obj_weapon_name_id[yy1];

            /*Finally, we will exit this routine and jump into the game manager and tell it to give output and to Load the UI.*/
            gm_story_tracker_prog = 0;
            Game_Manager();
        }

        function Game_Command(com) {
            if(com == 1) {
                /*Up Command*/
                if(cur_floor != (tot_floors - 1)) {
                    if(cur_spot == 0) {
                        cur_floor += 1;
                    }
                } else {
                    if(player.has_key == 1) {
                        if(cur_spot == 0) {
                            cur_floor += 1;
                        }
                    } else {
                        alert("you need to find the key to enter this floor!");
                    }
                }
            }

            if(com == 2) {
                /*Down Command*/
                if(cur_floor != 0) {
                    cur_floor -= 1;
                }
            }

            if(com == 3) {
                /*Right Command*/
                if(cur_spot != 4) {
                    cur_spot += 1;
                }
            }

            if(com == 4) {
                /*Left Command*/
                if(cur_spot != 0) {
                    cur_spot -= 1;
                }
            }

            if(com == 5) {
                /*Open Command*/
                if(cur_spot != 0) {
                    if(cur_spot == 1) {
                        if(gm_tower_obj_0[cur_floor] != "Nothing") {
                        gm_tower_obj_0_a[cur_floor] = 1;
                        Encounter_Meter(1);
                        }
                    }
                    if(cur_spot == 2) {
                        if(gm_tower_obj_1[cur_floor] != "Nothing") {
                        gm_tower_obj_1_a[cur_floor] = 1;
                        Encounter_Meter(1);
                        }
                    }
                    if(cur_spot == 3) {
                        if(gm_tower_obj_2[cur_floor] != "Nothing") {
                        gm_tower_obj_2_a[cur_floor] = 1;
                        Encounter_Meter(1);
                        }
                    }
                    if(cur_spot == 4) {
                        if(gm_tower_obj_3[cur_floor] != "Nothing") {
                        gm_tower_obj_3_a[cur_floor] = 1;
                        Encounter_Meter(1);
                        }
                    }
                }
                //GM_Disturb(0);
            }

            if(com == 6) {
                /*Smash Command*/
                if(cur_spot != 0) {
                    if(cur_spot == 1) {
                        if(gm_tower_obj_0[cur_floor] != "Nothing") {
                        gm_tower_obj_0_a[cur_floor] = 2;
                        Encounter_Meter(2);
                        }
                    }
                    if(cur_spot == 2) {
                        if(gm_tower_obj_1[cur_floor] != "Nothing") {
                        gm_tower_obj_1_a[cur_floor] = 2;
                        Encounter_Meter(2);
                        }
                    }
                    if(cur_spot == 3) {
                        if(gm_tower_obj_2[cur_floor] != "Nothing") {
                        gm_tower_obj_2_a[cur_floor] = 2;
                        Encounter_Meter(2);
                        }
                    }
                    if(cur_spot == 4) {
                        if(gm_tower_obj_3[cur_floor] != "Nothing") {
                        gm_tower_obj_3_a[cur_floor] = 2;
                        Encounter_Meter(2);
                        }
                    }
                }
                //GM_Disturb(1);
            }

            UI_Load_Map();
        }

        function UI_Load_Map() {

            document.getElementById("score").innerHTML = "Score: " + player.score;
            document.getElementById("floor").innerHTML = "Floor: " + cur_floor;

            if(cur_floor != 0 || cur_floor != tot_floors) {
                document.getElementById("floor_map").innerHTML = "<img id='spot0' class='plyr_spot'> "+ "<img id='spot1' class='plyr_spot'>" + "<img class='" + gm_tower_obj_0[cur_floor] + "'>" + "<img id='spot2' class='plyr_spot'> " + "<img class='" + gm_tower_obj_1[cur_floor] + "'>"  + "<img id='spot3' class='plyr_spot'> " + "<img class='" + gm_tower_obj_2[cur_floor] + "'>"  + "<img id='spot4' class='plyr_spot'> " + "<img class='" + gm_tower_obj_3[cur_floor] + "'>"  + " ";
                
                document.getElementById("spot0").src = blank;
                document.getElementById("spot1").src = blank;
                document.getElementById("spot2").src = blank;
                document.getElementById("spot3").src = blank;
                document.getElementById("spot4").src = blank;

                if(cur_spot == 0) {
                    document.getElementById("spot0").src = char1;
                }
                if(cur_spot == 1) {
                    document.getElementById("spot1").src = char1;
                }
                if(cur_spot == 2) {
                    document.getElementById("spot2").src = char1;
                }
                if(cur_spot == 3) {
                    document.getElementById("spot3").src = char1;
                }

                if(cur_spot == 4) {
                    document.getElementById("spot4").src = char1;
                }
            } 

            if(cur_floor == 0 || cur_floor == tot_floors) {
                document.getElementById("floor_map").innerHTML = "";
            }

            if(cur_spot != 0) {
                document.getElementById("com_up").disabled = true;
                document.getElementById("com_dwn").disabled = true;
            } else {
                document.getElementById("com_up").disabled = false;
                document.getElementById("com_dwn").disabled = false;
            }


            let xx6 = document.getElementsByClassName('Nothing');

            for (let x=0 ; x < xx6.length ; x++ ) {
                xx6[x].src = blank;
            }

            let xx7 = document.getElementsByClassName('Chest');

            for (let y=0 ; y < xx7.length ; y++ ) {
                xx7[y].src = chest1;
            }

            let xx8 = document.getElementsByClassName('Barrel');

            for (let z=0 ; z < xx8.length ; z++ ) {
                xx8[z].src = barrel1;
            }

            document.getElementById("bgimg").src = room;

            if(player.has_armour == 0) {
                document.getElementById("armour").src = nope;
            }

            if(player.cur_weapon == "Sword") {
                document.getElementById("weapon").src = Sword;
            }

            if(player.cur_weapon == "Axe") {
                document.getElementById("weapon").src = Axe;
            }

            if(player.cur_weapon == "Club") {
                document.getElementById("weapon").src = Club;
            }

        }

        function GM_Disturb() {
            /*The Player has either opened something or smashed it. How many dark elements heard it is the question...*/
            xx10 = Math.floor((Math.random() * encounter_meter));
            if(xx10 < encounter_chance) {
                alert("battle");
                //load the fucking battle
                UIX(2);
            }

            if(xx10 >= encounter_chance) {
                UI_Load_Map();
            }
        }

        function Encounter_Meter(player_action) {

            if(player_action == 1) {

                if(gm_difficulty == 1) {
                    encounter_chance += 1;
                    player.score += 10;
                }

                if(gm_difficulty == 2) {
                    encounter_chance += 2;
                    player.score += 20;
                }

                if(gm_difficulty == 3) {
                    encounter_chance += 3;
                    player.score += 40;
                }
            }

            if(player_action == 2) {
                
                if(gm_difficulty == 1) {
                    encounter_chance += 2;
                    player.score += 20;
                }

                if(gm_difficulty == 2) {
                    encounter_chance += 4;
                    player.score += 40;
                }

                if(gm_difficulty == 3) {
                    encounter_chance += 6;
                    player.score += 60;
                }
            }
            GM_Disturb();
            //UI_Load_Map();
        }


        function Encounter(modes) {

            /*Structure of battle mode*/
            /*
             mode 1: the battle starts
                    
                    - does the enemy still have health
                        -if yes then it will prepare a attack through a timeout
                        -if no then it will clear the attack time out if it has one and reward the player points 
                        -when battle is over isinbattle is turned back to 0.
                        -load back the level and continue through the tower.

            mode 2: listens to player attacks
                    - checks ability player used
                        -will either be a heal or an attack
                        - if an attack then enemy loses health
                            if its dead or less than 0 then battle is over.

                    var player = {
                        score: 0,
                        max_health: 10,
                        cur_health: 10,
                        max_armour: 10,
                        cur_armour: 0,
                        cur_weapon: 0,
                        has_armour: 0,
                        has_key: 0

                    };

                    var enemy = {
                        id: 0,
                        health: 0,
                        damange: 0
                        cur_health
                        cur_armour
                    };
            */
        
            if(modes == 0) {
                var xx11 = Math.floor((Math.random() * ent_enemies_id.length));

                enemy.id = ent_enemies_name_id[xx11];
                enemy.health = ent_enemies_health_n[xx11];
                enemy.damange = ent_enemies_damage_n[xx11];
                enemy.speed = ent_enemies_attack_s[xx11];
                enemy.cur_health = ent_enemies_health_n[xx11];
                isinbattle = 1;
                Encounter(1);
            }

            if(modes == 1) {

                if(player.cur_health <= 0) {
                    //game over...
                    alert("game over! you lose the game!!!!!");
                    isinbattle = 0;
                    UIX(0);
                }

                if(enemy.cur_health > 0) {
                    //it will attack
                }

                if(enemy.cur_health <= 0) {
                    //the enemy is dead...

                    alert("you defeated the enemy! round won!!!");
                    isinbattle = 0;
                    UI_Load_Map();
                    UIX(1);
                }
            }

            if(modes == 2) {
                //the player attacks and makes moves...
            }

            if(modes == 3) {
                //the enemy attacks and makes moves...
            }
        
        }


        function UIX(loadin) {
            if(isdevmode == 0) {
                //document.getElementById("bg").src = bg;

                if(loadin == 0) {
                    document.getElementById("scene_tower_config").style.display = "block";
                    document.getElementById("scene_level").style.display = "none";
                    document.getElementById("scene_encounter").style.display = "none";
                }

                if(loadin == 1) {
                    document.getElementById("scene_tower_config").style.display = "none";
                    document.getElementById("scene_level").style.display = "block";
                    document.getElementById("scene_encounter").style.display = "none";
                }

                if(loadin == 2) {
                    document.getElementById("scene_tower_config").style.display = "none";
                    document.getElementById("scene_level").style.display = "none";
                    document.getElementById("scene_encounter").style.display = "block";
                }
            }
        }


        function keydownFunction() {
            //document.getElementById("demo").style.backgroundColor = "red";

            let key = event.key;

            if (key == "w" || key == "W") {
                Game_Command(1);
            }

            if (key == "s" || key == "S") {
                Game_Command(2);
            }

            if (key == "a" || key == "A") {
                Game_Command(4);
            }

            if (key == "d" || key == "D") {
                Game_Command(3);
            }

            if (key == "o" || key == "O") {
                Game_Command(5);
            }

            if (key == "k" || key == "K") {
                Game_Command(6);
            }

        }

        function keyupFunction() {
            //document.getElementById("demo").style.backgroundColor = "green";
        }

        /*Notes for project*/

        /*
        Encounters
        - normal difficulty open increases by 0.5 smashing by 1 doubles on hard, halves on easy for parameters...

        Tower Size
        - smallest is 5 largest is 50 possible

        Start Game
        - You fall into a hole during your walk into the woods. you wake up at the bottom and find a tower that might lead to the surface. you are given a random weapon to start with...

        End Game
        - You need the key and get to the top of the tower to defeat the final boss to escape.
        
        Roguelike!
        - If you die you lose the game! always will be completely randomized. 
        - eventually will need to add 'themed' rooms with specific items but thats well down the line...


        for adding music down the line add this to the html body section....

        <audio controls autoplay loop src="data:audio/ogg;base64,BASE64CODE" />

        "Nothing", "Chest", "Bag"
        */
        </script>

        <style>
            #map_scene {
                width: 384px;
                height: 128px;
                border: 1px solid black;
                box-shadow: 10px 10px;	
                overflow: none;
                position: relative; 
            }

            #bgimg {
                width: 384px;
                height: 128px;
                z-index: 0;
                position: absolute;
                top: 0;
                right: 0;
            }

            #floor_map {
                position: absolute;
                bottom: 10px;
                left: 40px;
            }

            img {
				image-rendering: pixelated;
			}
            .plyr_spot {
                width: 32px;
                height: 32px;
                z-index: 1;
            }

            .Ladder {
                width: 32px;
                height: 32px;
                z-index: 1;
                background-color: #000000;
            }

            .Nothing {
                width: 32px;
                height: 32px;
                z-index: 1;
            }

            .Chest{
                width: 32px;
                height: 32px;
                z-index: 1;
            }

            .Barrel {
                width: 32px;
                height: 32px;
                z-index: 1;
            }

            #health {
                width: 32px;
                height: 32px;
                border: 1px solid black;
                background-color: blue;
            }

            #weapon {
                width: 32px;
                height: 32px;
                border: 1px solid black;
                background-color: green;
            }

            #armour {
                width: 32px;
                height: 32px;
                border: 1px solid black;
                background-color: red;
            }

            #bg {
                position: fixed;
                top: 0;
                right: 0;
                background-repeat: repeat;
                z-index: -1;
                background-size: 16px 16px;
            }

            #terminal_border {
                position: fixed;
                top: 10px;
                right: 10px;
                bottom: 10px;
                left: 10px;
                border: 3px solid black;
                pointer-events: none;
            }
            body {
                padding: 12px;
            }
        </style>
    </head>
    <body onload="UIX(0)" onkeydown="keydownFunction()" onkeyup="keyupFunction()">
        <div id="terminal_border"></div>
        <img id="bg">
        <h1>Simple Tower</h1>

        <div id="scene_tower_config">
            Tower Size: <input type="number" id="tower_size" value="10" min="5" max="12"> (min 5 levels, max 12 levels!)
            <br>
            Difficulty: <input type="number" id="difficulty" value="2" min="1" max="3"> (lower the value the easier, higher the value the more difficult!)
            <br>
            <br>
            <button id="tower_generator" onclick="start_game()">Generate</button>
        </div>

        <div id="scene_level">
            <h4 id="score">Score: 0</h4>
            <p id="floor">Floor: 0</p>
            
            <img id="health">
            <img id="weapon">
            <img id="armour">
            
            <div id="map_scene">
                <img id="bgimg">
                <p id="floor_map"># @ X X X X</p>
            </div>
            <p id="output">text output goes here...</p>
            <button id="com_up" onclick="Game_Command(1)">Up</button>
            <button id="com_dwn" onclick="Game_Command(2)">Down</button>
            <button id="com_lft" onclick="Game_Command(4)">Left</button>
            <button id="com_rht" onclick="Game_Command(3)">Right</button>
            <button onclick="Game_Command(5)">Open</button>
            <button onclick="Game_Command(6)">Smash</button>
        </div>

        <div id="scene_encounter">
            <h4>Encounter</h4>
            <p>A Ghost appears...</p>
            <br>
            <p id="plyr_hth">10/10</p>
            <p id="plyr_amr">5/5</p>
            <br>
            <p id="plyr_hth">5/5</p>
            <p id="plyr_amr">0/0</p>
            <button>Fists</button>
            <button>Axe</button>
            <button>stun</button>
            <button>heal</button>
        </div>
        
        <br>
        <br>
    </body>
</html>